<Window x:Class="GTAVInjector.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="GTAV Injector Enhanced" 
        Height="700" Width="1000"
        MinHeight="600" MinWidth="800"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        AllowsTransparency="True"
        WindowStyle="None"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <!-- AnimaciÃ³n de parallax -->
        <Storyboard x:Key="ParallaxAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="ParallaxLayer1"
                           Storyboard.TargetProperty="(Canvas.Left)"
                           From="0" To="-100" Duration="0:0:20" AutoReverse="True"/>
            <DoubleAnimation Storyboard.TargetName="ParallaxLayer2"
                           Storyboard.TargetProperty="(Canvas.Left)"
                           From="0" To="-150" Duration="0:0:30" AutoReverse="True"/>
        </Storyboard>
    </Window.Resources>
    
    <Window.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard Storyboard="{StaticResource ParallaxAnimation}"/>
        </EventTrigger>
    </Window.Triggers>
    
    <Border BorderBrush="{StaticResource PrimaryColor}" BorderThickness="1.5" CornerRadius="12">
        <Grid>
            <!-- Fondo animado con parallax -->
            <Canvas ClipToBounds="True">
                <Canvas.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#13001F" Offset="0"/>
                        <GradientStop Color="#1D022D" Offset="0.6"/>
                        <GradientStop Color="#13001F" Offset="1"/>
                    </LinearGradientBrush>
                </Canvas.Background>
                
                <!-- Capa de parallax 1 -->
                <Canvas x:Name="ParallaxLayer1" Width="1200" Height="700" Opacity="0.35">
                    <Ellipse Width="360" Height="360" Canvas.Left="60" Canvas.Top="20" Fill="#46125E" Opacity="0.35"/>
                    <Ellipse Width="260" Height="260" Canvas.Left="720" Canvas.Top="360" Fill="#6B2C80" Opacity="0.28"/>
                    <Ellipse Width="180" Height="180" Canvas.Left="400" Canvas.Top="180" Fill="#8E4FD1" Opacity="0.22"/>
                </Canvas>
                
                <!-- Capa de parallax 2 -->
                <Canvas x:Name="ParallaxLayer2" Width="1200" Height="700" Opacity="0.3">
                    <Ellipse Width="280" Height="280" Canvas.Left="520" Canvas.Top="60" Fill="#A946FF" Opacity="0.2"/>
                    <Ellipse Width="200" Height="200" Canvas.Left="220" Canvas.Top="460" Fill="#FF72E2" Opacity="0.24"/>
                    <Ellipse Width="150" Height="150" Canvas.Left="900" Canvas.Top="180" Fill="#D872FF" Opacity="0.18"/>
                </Canvas>
            </Canvas>
            
            <!-- Contenido principal -->
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="40"/>
                </Grid.RowDefinitions>
                
                <!-- Barra de tÃ­tulo personalizada -->
                <Grid Grid.Row="0" Background="#1A0128" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Logo y tÃ­tulo -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="15,0">
                        <Image x:Name="LogoImage" Width="40" Height="40" Margin="0,0,10,0" 
                               Source="/Resources/logo.png" VerticalAlignment="Center"/>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="GTAV INJECTOR" FontSize="18" FontWeight="Bold" Foreground="#FF9EFF"/>
                            <TextBlock x:Name="VersionText" Text="v2.0.0" FontSize="10" Foreground="#D3B4FF"/>
                        </StackPanel>
                    </StackPanel>
                    
                    <!-- Selector de idioma -->
                    <ComboBox x:Name="LanguageSelector" Grid.Column="1" 
                              Width="140" Height="32" HorizontalAlignment="Right" Margin="0,0,20,0"
                              Style="{StaticResource {x:Type ComboBox}}"
                              SelectionChanged="LanguageSelector_SelectionChanged">
                        <ComboBoxItem Content="ðŸ‡ºðŸ‡¸ English" Tag="en"/>
                        <ComboBoxItem Content="ðŸ‡ªðŸ‡¸ EspaÃ±ol" Tag="es" IsSelected="True"/>
                    </ComboBox>
                    
                    <!-- Botones de ventana -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal">
                        <Button Content="â”€" Style="{StaticResource WindowButton}" Click="Minimize_Click"/>
                        <Button Content="â˜" Style="{StaticResource WindowButton}" Click="Maximize_Click"/>
                        <Button Content="âœ•" Style="{StaticResource CloseButton}" Click="Close_Click"/>
                    </StackPanel>
                </Grid>
                
                <!-- Contenido principal -->
                <Grid Grid.Row="1" Margin="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Panel izquierdo - Lista de DLLs -->
                    <Border Grid.Column="0" Background="#1F012F" CornerRadius="12" Padding="18">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- TÃ­tulo y botones -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock x:Name="DllListTitle" Text="DLL List" FontSize="16" FontWeight="Bold" 
                                          Foreground="#FFD9FF" VerticalAlignment="Center"/>
                                <Button x:Name="AddDllButton" Content="+ Add DLL" Margin="15,0,0,0" 
                                       Style="{StaticResource PrimaryButton}" Click="AddDll_Click"/>
                            </StackPanel>
                            
                            <!-- Auto-inyector -->
                            <CheckBox x:Name="AutoInjectCheckbox" Grid.Row="1" Margin="0,0,0,10"
                                     Content="Auto-Inject on game start" Foreground="#FFFFFF"
                                     Checked="AutoInject_Changed" Unchecked="AutoInject_Changed"/>
                            
                            <!-- Lista de DLLs -->
                            <ListView x:Name="DllListView" Grid.Row="2" Background="#15011E" 
                                     BorderThickness="0" Margin="0,0,0,10">
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Margin="5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="30"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="100"/>
                                                <ColumnDefinition Width="80"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <CheckBox Grid.Column="0" IsChecked="{Binding Enabled}" 
                                                     VerticalAlignment="Center"/>
                                            <TextBlock Grid.Column="1" Text="{Binding FileName}" 
                                                      Foreground="#FFFFFF" VerticalAlignment="Center" Margin="10,0"/>
                                            <TextBlock Grid.Column="2" Text="{Binding Status}" 
                                                      VerticalAlignment="Center" HorizontalAlignment="Center">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Status}" Value="Injected">
                                                                <Setter Property="Foreground" Value="#BB4CFF"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Status}" Value="Not Injected">
                                                                <Setter Property="Foreground" Value="#FF4FD8"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <Button Grid.Column="3" Content="Remove" 
                                                   Style="{StaticResource DangerButton}"
                                                   Click="RemoveDll_Click" Tag="{Binding}"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                            
                            <!-- Botones de acciÃ³n -->
                            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button x:Name="LaunchButton" Content="Launch Game" Width="120" Margin="5"
                                       Style="{StaticResource SuccessButton}" Click="LaunchGame_Click"/>
                                <Button x:Name="InjectButton" Content="Inject DLLs" Width="120" Margin="5"
                                       Style="{StaticResource PrimaryButton}" Click="InjectDlls_Click"/>
                                <Button x:Name="KillButton" Content="Kill Game" Width="120" Margin="5"
                                       Style="{StaticResource DangerButton}" Click="KillGame_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- Panel derecho - ConfiguraciÃ³n -->
                    <Border Grid.Column="2" Background="#1F012F" CornerRadius="12" Padding="18">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <StackPanel Grid.Row="0">
                                <!-- Estatus de versiÃ³n -->
                                <Border Background="#15011E" CornerRadius="8" Padding="12" Margin="0,0,0,15">
                                    <StackPanel>
                                        <TextBlock x:Name="VersionStatusTitle" Text="Version Status" 
                                                  FontWeight="Bold" Foreground="#FFD9FF" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="VersionStatusText" Text="Checking..." 
                                                  Foreground="#D3B4FF" FontSize="12" Margin="0,0,0,5"/>
                                        <Button x:Name="UpdateButton" Content="Update Available" 
                                               Style="{StaticResource WarningButton}" 
                                               Visibility="Collapsed" Click="Update_Click"/>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Tipo de juego -->
                                <TextBlock x:Name="GameTypeTitle" Text="Game Type" FontWeight="Bold" 
                                          Foreground="#FFD9FF" Margin="0,0,0,5"/>
                                <RadioButton x:Name="LegacyRadio" Content="Legacy (GTA5.exe)" 
                                            Foreground="#FFFFFF" Margin="0,5" GroupName="GameType" 
                                            Checked="GameType_Changed"/>
                                <RadioButton x:Name="EnhancedRadio" Content="Enhanced (GTA5_Enhanced.exe)" 
                                            Foreground="#FFFFFF" Margin="0,5" GroupName="GameType" 
                                            IsChecked="True" Checked="GameType_Changed"/>
                                
                                <Separator Margin="0,15" Background="#6A1B9A"/>
                                
                                <!-- Launcher -->
                                <TextBlock x:Name="LauncherTitle" Text="Launcher" FontWeight="Bold" 
                                          Foreground="#FFD9FF" Margin="0,0,0,5"/>
                                <RadioButton x:Name="RockstarRadio" Content="Rockstar Games" 
                                            Foreground="#FFFFFF" Margin="0,5" GroupName="Launcher" 
                                            IsChecked="True" Checked="Launcher_Changed"/>
                                <RadioButton x:Name="EpicRadio" Content="Epic Games" 
                                            Foreground="#FFFFFF" Margin="0,5" GroupName="Launcher" 
                                            Checked="Launcher_Changed"/>
                                <RadioButton x:Name="SteamRadio" Content="Steam" 
                                            Foreground="#FFFFFF" Margin="0,5" GroupName="Launcher" 
                                            Checked="Launcher_Changed"/>
                                
                                <Separator Margin="0,15" Background="#444"/>
                                
                                <!-- Redes Sociales -->
                                <TextBlock x:Name="SocialMediaTitle" Text="Social Media" FontWeight="Bold" 
                                          Foreground="#FFD9FF" Margin="0,0,0,8"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
                                    <Button x:Name="TikTokButton" Margin="5" Width="50" Height="50" 
                                           Style="{StaticResource SocialButton}" Click="TikTok_Click"
                                           ToolTip="SÃ­guenos en TikTok">
                                        <Image Source="pack://application:,,,/tiktok.png" Stretch="Uniform"/>
                                    </Button>
                                    <Button x:Name="TwitchButton" Margin="5" Width="50" Height="50" 
                                           Style="{StaticResource SocialButton}" Click="Twitch_Click"
                                           ToolTip="SÃ­guenos en Twitch">
                                        <Image Source="pack://application:,,,/twitch.png" Stretch="Uniform"/>
                                    </Button>
                                    <Button x:Name="YouTubeButton" Margin="5" Width="50" Height="50" 
                                           Style="{StaticResource SocialButton}" Click="YouTube_Click"
                                           ToolTip="SÃ­guenos en YouTube">
                                        <Image Source="pack://application:,,,/youtube.png" Stretch="Uniform"/>
                                    </Button>
                                </StackPanel>
                                
                                <Separator Margin="0,0,0,15" Background="#444"/>
                                
                                <!-- Requisitos -->
                                <TextBlock x:Name="RequirementsTitle" Text="Requirements" FontWeight="Bold" 
                                          Foreground="#FFD9FF" Margin="0,0,0,5"/>
                                <Border Background="#15011E" CornerRadius="8" Padding="12">
                                    <StackPanel>
                                        <TextBlock Text="â€¢ Windows 10/11 (64-bit)" Foreground="#D3B4FF" FontSize="11" Margin="0,2"/>
                                        <TextBlock Text="â€¢ .NET 8.0 Runtime" Foreground="#D3B4FF" FontSize="11" Margin="0,2"/>
                                        <TextBlock Text="â€¢ GTA V installed" Foreground="#D3B4FF" FontSize="11" Margin="0,2"/>
                                        <TextBlock Text="â€¢ Administrator rights" Foreground="#D3B4FF" FontSize="11" Margin="0,2"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                            
                            <!-- Imagen destacada -->
                            <Border Grid.Row="1" Background="#15011E" CornerRadius="10" Padding="10" Margin="0,12,0,0">
                                <Viewbox Stretch="Uniform" StretchDirection="DownOnly">
                                    <Image Source="pack://application:,,,/logo.png" Height="200" Width="200" Stretch="Uniform"
                                           RenderOptions.BitmapScalingMode="HighQuality" SnapsToDevicePixels="True"/>
                                </Viewbox>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>
                
                <!-- Barra de estado -->
                <Border Grid.Row="2" Background="#15011E" CornerRadius="8" Padding="12,6">
                    <Grid>
                        <TextBlock x:Name="StatusText" Text="Ready" Foreground="#FF9EFF" 
                                  VerticalAlignment="Center"/>
                        <TextBlock x:Name="GameStatusText" Text="Game: Not Running" 
                                  Foreground="#FF4FD8" HorizontalAlignment="Right" 
                                  VerticalAlignment="Center"/>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
